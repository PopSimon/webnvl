<!DOCTYPE html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>VN</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">

        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
        <!-- <link rel="stylesheet" href="animations.css"/> -->
        <style type="text/css">
            /*#target2 {
              -moz-animation-duration: 3s;
              -webkit-animation-duration: 3s;
              -moz-animation-name: slidein;
              -webkit-animation-name: slidein;
            }*/
            
            @-moz-keyframes move {
              from {
                -moz-transform: translate(-100%, 0);
              }
              
              to {
                -moz-transform: translate(0, 0);
              }
            }
            
            @-webkit-keyframes move {
              from {
                -webkit-transform: translate(100%, 0);
              }
              
              to {
                -webkit-transform: translate(0, 0);
              }
            }
            
            @-ms-keyframes move {
              from {
                -ms-transform: translate(100%, 0);
              }
              
              to {
                -ms-transform: translate(0, 0);
              }
            }
            
            @-webkit-keyframes blink {
              from {
                opacity: 1;
              }
              
              50% {
                opacity: 0;
              }
              
              to {
                opacity: 1;
              }
            }
            
            @-moz-keyframes blink {
              from {
                opacity: 1;
              }
              
              50% {
                opacity: 0;
              }
              
              to {
                opacity: 1;
              }
            }
            
            @-ms-keyframes blink {
              from {
                opacity: 1;
              }
              
              50% {
                opacity: 0;
              }
              
              to {
                opacity: 1;
              }
            }
            
            @-o-keyframes blink {
              from {
                opacity: 1;
              }
              
              50% {
                opacity: 0;
              }
              
              to {
                opacity: 1;
              }
            }
            
            @-webkit-keyframes jump {
              from {
                -webkit-transform: translate(0, 0);
              }
              50% {
                -webkit-transform: translate(0, -30%);
              }
              to {
                -webkit-transform: translate(0, 0);
              }
            }
            
            @-moz-keyframes jump {
              from {
                transform: translate(0, 0);
                -moz-transform: translate(0, 0);
              }
              50% {
                transform: translate(0, 100);
                -moz-transform: translate(0, -30%);
              }
              to {
                transform: translate(0, 0);
                -moz-transform: translate(0, 0);
              }
            }
              
            @-ms-keyframes jump {
              from {
                -ms-transform: translate(0, 0);
              }
              50% {
                -ms-transform: translate(0, -30%);
              }
              to {
                -ms-transform: translate(0, 0);
              }
            }
              
            @-o-keyframes jump {
              from {
                transform: translate(0, 0);
                -o-transform: translate(0, 0);
              }
              50% {
                transform: translate(0, 100);
                -o-transform: translate(0, -30%);
              }
              to {
                transform: translate(0, 0);
                -o-transform: translate(0, 0);
              }
            }
        </style>
    </head>
    <body>
        <div id="stage">
            <div id="background"></div>
            <div id="foreground"></div>
        </div>
		
        <script src="lib/jquery-2.0.0.js"></script>
        <script src="src/utils/events.js"></script>
        <script src="src/utils/helpers.js"></script>
        <script src="src/utils/orderedmap.js"></script>
        
        <script src="src/graphics/animation.js"></script>
        <script src="src/graphics/cssanimation.js"></script>
        <script src="src/graphics/csstransition.js"></script>
        <script src="src/graphics/cssanimations.js"></script>
        <script src="src/graphics/sprite/sprite.js"></script>
        <script src="src/graphics/sprite/imgsprite.js"></script>
        <script src="src/graphics/sprite/sprites.js"></script>
        <script src="src/graphics/sprite/character.js"></script>
        <script src="src/graphics/sprite/background.js"></script>
        <script src="src/graphics/stage.js"></script>
<script>
var stage = null;

function init() {
    stage = new Stage($("#stage"));
    
    setTimeout(function () {
        stage.background.add(new Sprite({
            type: "image",
            id: "home_1",
            path: "img/bg/BG01_01.jpg"
        }));
    }, 500);
    
    setTimeout(function () {
        stage.foreground.add(new Sprite({
            type: "image",
            id: "kakeru",
            path: "img/char/kakeru_1_0.png"
        }));
    }, 1000);
    
    setTimeout(function () {
        stage.foreground.add(new Sprite({
            type: "image",
            id: "kotori",
            path: "img/char/kotori_1_0_0.bmp"
        }), new CssTransition({
            id: "move",
            name: "move",
            duration: "1s"
        }));
    }, 2000);
    
    setTimeout(function () {
        stage.foreground.remove("kakeru");
    }, 10000);
    
    setTimeout(function () {
        stage.background.remove("home_1");
    }, 3500);
    
    setTimeout(function () {
        stage.foreground.remove("kotori", new CssTransition({
            name: "move",
            direction: "reverse",
            duration: "1s"
        }));
    }, 4000);
    
    //
    
    setTimeout(function () {
        stage.foreground.get("kakeru").animations.add(new CssAnimation({
            name: "jump",
            delay: "0.25s",
            duration: "1s",
            iterationCount: "3"}));
        stage.foreground.get("kakeru").animations.add(new CssAnimation({
            name: "blink",
            delay: "0.5s",
            duration: "0.5s",
            iterationCount: "3"}));
        // stage.foreground.get("kakeru").animations.start();
    }, 1500);
}

$(window).load(init);
</script>

    </body>
</html>
